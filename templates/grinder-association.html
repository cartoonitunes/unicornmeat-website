<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unicorn Meat Grinder Association ü¶Ñüçñ</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='assets/favicon.ico') }}" />
    <meta name="description" content="The Unicorn Meat Grinder Association DAO - Historic Ethereum DAO from 2016">
    <meta name="theme-color" content="#FFBA00">
    <!-- app head for bootstrap core -->
    <script src="{{ url_for('static', filename='assets/js/app-head-bs.js') }}"></script>
    <!-- include uni-core components -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/js/uni-core/css/uni-core.min.css') }}">
    <!-- include styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/unicons.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/swiper-bundle.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/prettify.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/magic-cursor.min.css') }}">
    <!-- include main style -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/theme/theme-two.min.purge.css') }}">
    <!-- include scripts -->
    <script src="{{ url_for('static', filename='assets/js/uni-core/js/uni-core-bundle.min.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/theme/hero-bg.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/custom.css') }}">
    
    <style>
        .sticker-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transform: rotate(12deg);
            box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            z-index: 10;
        }
        .sticker-executed {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        .sticker-passed {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
        }
        .sticker-expired {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
        }
        .sticker-active {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }
        .proposal-card {
            position: relative;
            transition: all 0.3s ease;
            min-height: auto;
        }
        .proposal-header {
            cursor: pointer;
            user-select: none;
            min-height: 50px;
        }
        .proposal-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 !important;
        }
        .proposal-content.expanded {
            max-height: 2000px;
            padding: 0.5rem !important;
        }
        @media (max-width: 768px) {
            .text-center {
                margin-top: 100px !important;
            }
        }
        .proposal-toggle-icon {
            transition: transform 0.3s ease;
        }
        .proposal-toggle-icon.expanded {
            transform: rotate(180deg);
        }
        .compact-stat {
            font-size: 1.5rem;
            font-weight: bold;
        }
        @media (min-width: 768px) {
            .panel.p-4.p-md-5.p-lg-6 {
                padding: 2rem !important;
            }
        }
        @media (min-width: 992px) {
            .panel.p-4.p-md-5.p-lg-6 {
                padding: 3rem !important;
            }
        }
        
        /* Hall of Fame Table Mobile Styles */
        #hall-of-fame-list {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        #hall-of-fame-list table {
            min-width: 100%;
            width: 100%;
        }
        
        @media (max-width: 767px) {
            #hall-of-fame-list {
                margin-left: -1rem;
                margin-right: -1rem;
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            #hall-of-fame-list table {
                min-width: 600px;
            }
            
            #hall-of-fame-list th,
            #hall-of-fame-list td {
                padding: 0.75rem 0.5rem !important;
                font-size: 0.875rem !important;
            }
            
            #hall-of-fame-list th {
                font-size: 0.75rem !important;
            }
            
            #hall-of-fame-list .fw-bold.fs-5 {
                font-size: 1rem !important;
            }
            
            #hall-of-fame-list .fs-6 {
                font-size: 0.875rem !important;
            }
            
            #hall-of-fame-list .fs-7 {
                font-size: 0.75rem !important;
            }
        }
        /* Knight background */
        .hero-header {
            position: relative;
            overflow: hidden;
        }
        .hero-header .section-outer {
            min-height: 100vh;
            position: relative;
            background-image: url('{{ url_for("static", filename="assets/images/knight.png") }}');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        .hero-header .section-outer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 0;
        }
        .hero-header .container {
            position: relative;
            z-index: 1;
        }
        .hero-logo {
            max-width: 200px;
        }
        .hero-title {
            word-wrap: break-word;
            overflow-wrap: break-word;
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.5);
            font-weight: 300;
        }
        .hero-subtitle {
            word-wrap: break-word;
            overflow-wrap: break-word;
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8), 0 0 6px rgba(0, 0, 0, 0.5);
            font-weight: 300;
        }
        /* Transparent button */
        .hero-button .btn {
            background-color: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            color: #000 !important;
        }
        .hero-button .btn:hover {
            background-color: rgba(255, 255, 255, 0.95) !important;
        }
        @media (max-width: 576px) {
            .hero-logo {
                max-width: 120px !important;
            }
            .hero-title {
                font-size: 1.25rem !important;
                line-height: 1.3 !important;
            }
            .hero-subtitle {
                font-size: 0.875rem !important;
                line-height: 1.4 !important;
            }
            .hero-button .btn {
                font-size: 0.875rem !important;
                padding: 0.5rem 1rem !important;
            }
        }
        @media (min-width: 577px) and (max-width: 768px) {
            .hero-logo {
                max-width: 160px !important;
            }
            .hero-title {
                font-size: 1.5rem !important;
            }
            .hero-subtitle {
                font-size: 1rem !important;
            }
        }
        @media (min-width: 769px) and (max-width: 991px) {
            .hero-logo {
                max-width: 180px !important;
            }
        }
        @media (min-width: 992px) {
            .hero-logo {
                max-width: 200px !important;
            }
        }
    </style>
</head>

<body>
    <div class="uc-wrapper">
        <!-- Header start -->
        <header class="uc-header header-two uc-navbar-sticky-wrap z-999 uc-dark"
            data-uc-sticky="start: 100vh; animation: uc-animation-slide-top; sel-target: .uc-navbar-container; cls-active: uc-navbar-sticky; cls-inactive: uc-navbar-transparent; end: !*;">
            <nav class="uc-navbar-container bg-transparent mt-3 xl:mt-4 uc-navbar-float ft-tertiary z-1"
                data-anime="translateY: [-40, 0]; opacity: [0, 1]; duration: 750; delay: 0;">
                <div class="uc-navbar-main" style="--uc-nav-height: 100px">
                    <div class="container">
                        <div class="uc-navbar min-h-64px lg:min-h-80px xl:min-h-100px ps-2 pe-1 lg:px-4 border border-2 border-black contrast-shadow-md rounded-2 lg:rounded-3"
                            data-uc-navbar=" animation: uc-animation-slide-top-small; duration: 150;"
                            style="background-color: rgba(152, 206, 251, 0.85); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);">
                            <div class="uc-navbar-left">
                                <div class="uc-logo">
                                    <a class="panel text-none w-150px xl:w-auto" href="/">
                                        <img src="{{ url_for('static', filename='assets/images/home-two/unicornmeat-logo.png') }}"
                                            alt="Unicorn Meat Logo"
                                            style="height: 40px; width: auto; filter: drop-shadow(-4px 0px 8px rgba(0,0,0,0.3));">
                                    </a>
                                </div>
                            </div>
                            <div class="uc-navbar-center">
                                <ul class="uc-navbar-nav fs-5 xl:fs-4 gap-3 lg:gap-4 d-none lg:d-flex fw-semibold"
                                    data-uc-scrollspy-nav="closet: > *; offset: 48; scroll: true;">
                                    <li><a href="#about">About</a></li>
                                    <li><a href="#association">The DAO</a></li>
                                    <li><a href="#grind">Grind</a></li>
                                    <li><a href="#propose">Propose</a></li>
                                    <li><a href="#faq">FAQ</a></li>
                                </ul>
                            </div>
                            <div class="uc-navbar-right">
                                <a class="btn btn-sm xl:btn-md btn-secondary border border-2 border-black contrast-shadow-sm -rotate-2 hover:rotate-0 d-none lg:d-inline-flex connect-wallet-btn"
                                    href="#">
                                    <span class="btn-responsive-text">Connect Wallet</span>
                                </a>
                                <a class="btn btn-md btn-secondary w-48px h-48px p-0 border border-2 border-black contrast-shadow-sm d-inline-flex lg:d-none"
                                    href="#uc-menu-panel" data-uc-toggle>
                                    <img class="icon icon-3"
                                        src="{{ url_for('static', filename='assets/images/icons/menu.svg') }}" alt="menu"
                                        data-uc-svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <!-- Header end -->

        <!-- Mobile Menu Panel -->
        <div id="uc-menu-panel" data-uc-offcanvas="overlay: true;">
            <div
                class="uc-offcanvas-bar m-1 rounded-2 border border-2 border-black contrast-shadow-md bg-secondary-200 text-dark dark:bg-gray-900 dark:text-white">
                <header class="uc-offcanvas-header hstack justify-between items-center pb-2">
                    <div class="uc-logo">
                        <a href="/" class="h5 text-none text-gray-900 dark:text-white">
                            <img class="w-40px"
                                src="{{ url_for('static', filename='assets/images/home-two/unicornmeat-logo.png') }}"
                                alt="Unicorn Meat" style="filter: drop-shadow(-4px 0px 8px rgba(0,0,0,0.3));">
                        </a>
                    </div>
                    <button
                        class="uc-offcanvas-close rtl:end-auto rtl:start-0 m-1 mt-2 p-0 btn border-0 dark:text-white dark:text-opacity-50 hover:text-primary hover:rotate-90 duration-150 transition-all"
                        type="button" data-uc-toggle>
                        <img class="icon icon-3" src="{{ url_for('static', filename='assets/images/icons/close.svg') }}"
                            alt="close" data-uc-svg>
                    </button>
                </header>

                <div class="panel">
                    <ul class="nav-y gap-narrow fw-medium fs-6" data-uc-nav>
                        <li><a href="#about">About</a></li>
                        <li><a href="#association">The DAO</a></li>
                        <li><a href="#grind">Grind</a></li>
                        <li><a href="#propose">Propose</a></li>
                        <li><a href="#faq">FAQ</a></li>
                    </ul>
                    <div class="mt-4">
                        <a class="btn btn-md btn-secondary border border-2 border-black contrast-shadow-sm connect-wallet-btn w-100"
                            href="#">
                            <span class="btn-responsive-text">Connect Wallet</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <div id="hero_header" class="hero-header section panel overflow-hidden">
            <div class="section-outer min-h-screen py-9 lg:py-10">
                <div class="container" style="position: relative; z-index: 1;">
                    <div class="section-inner panel">
                        <div class="panel vstack items-center gap-2 lg:gap-3 xl:gap-4 max-w-md mx-auto text-center px-2 lg:px-0 mt-6 lg:mt-8 xl:mt-9"
                            data-uc-height-viewport="media: @xl;"
                            data-anime="targets: >*; translateY: [24, 0]; opacity: [0, 1]; delay: anime.stagger(100, {start: 200});">
                            <img src="{{ url_for('static', filename='assets/images/home-two/unicornmeat-logo.png') }}"
                                alt="Unicorn Meat Logo"
                                class="hero-logo"
                                style="max-width: 200px; width: 100%; height: auto; filter: drop-shadow(-8px 0px 16px rgba(0,0,0,0.3));">
                            <h1 class="h2 xl:h1 mb-0 ls-0 hero-title">
                                The Unicorn Meat Grinder Association ü¶Ñüçñ
                            </h1>
                            <p class="fs-5 sm:fs-4 xl:fs-3 hero-subtitle">A historic Ethereum DAO from March 2016.<br class="d-none sm:d-block">Introduced Token Swaps, Upgrades, and Quadratic Voting.</p>
                            <div class="hero-button">
                                <a class="btn btn-sm sm:btn-md btn-secondary px-3 mt-1 sm:mt-2 border border-2 border-black contrast-shadow-sm -rotate-2 hover:rotate-0"
                                    href="#about">
                                    <span>ü¶Ñ Learn More!</span>
                                    <span class="fs-5 mb-narrow">üçñ</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Section -->
        <div id="about" class="about section panel overflow-hidden">
            <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10 bg-secondary-100">
                <div class="container sm:max-w-lg xl:max-w-2xl">
                    <div class="section-inner panel">
                        <div class="section-content panel">
                            <div class="row justify-center"
                                data-anime="onview: -400; targets: >*; translateY: [24, 0]; opacity: [0, 1]; delay: anime.stagger(100, {start: 200});">
                                <div class="col-12 col-lg-8 col-xl-6">
                                    <div class="about-content vstack items-center gap-3 sm:gap-4 text-center">
                                        <h2 class="title h5 sm:h3 xl:h2 mb-0 ls-0 text-uppercase -rotate-1">The Unicorn Meat Grinder Association ü¶Ñüçñ</h2>
                                        <div class="desc">
                                            <p class="fs-6 sm:fs-5 xl:fs-4 mb-2">
                                                The Unicorn Token was a gratitude token from the Ethereum Foundation, but it was expensive, non-divisible, and only available to "the pure of heart." The <strong>Unicorn Meat Grinder</strong> changed that, allowing anyone to "hack your own unicorns into tiny little pieces" and exchange them for divisible meat tokens.
                                            </p>
                                            <p class="fs-6 sm:fs-5 xl:fs-4 mb-2">
                                                All rules are controlled by the <strong>Unicorn Meat Grinder Association</strong>, a DAO where "each negative vote is worth 4 support votes, meaning that a tiny vocal minority of 20% of all unicorns can veto any proposal." The Association uses "quadratic voting" where you can send ETH to increase your vote weight.
                                            </p>
                                            <p class="fs-6 sm:fs-5 xl:fs-4 mb-0">
                                                <em>"While the DAO is in the spirit of April fools, the contract code is 100% real and functional."</em> It was created to showcase token upgrades, contract-to-contract interactions, semi-random functions, and quadratic voting.
                                            </p>
                                            <p class="fs-7 text-muted mt-3 mb-0">
                                                ‚Äî <a href="https://gist.github.com/alexvandesande/eca0b87da89ab28fa50c" target="_blank" rel="noopener noreferrer" class="text-primary" style="text-decoration: underline;">Alex Van de Sande, March 2016</a>
                                            </p>
                                            <p class="fs-7 text-muted mt-3 mb-0">
                                                Contract: <a href="https://etherscan.io/address/0xc7e9dDd5358e08417b1C88ed6f1a73149BEeaa32" target="_blank" rel="noopener noreferrer" class="text-primary" style="text-decoration: underline;">0xc7e9dDd5358e08417b1C88ed6f1a73149BEeaa32</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Association Section -->
        <div id="association" class="association section panel overflow-hidden">
            <!-- DAO Information Display -->
            <div id="grinder-info">
                <!-- Stats Section -->
                <div class="association-stats section panel overflow-hidden">
                    <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10" style="background-color: #ffe6f0;">
                        <div class="container sm:max-w-lg xl:max-w-4xl">
                            <div class="section-inner panel">
                                <!-- Section Header -->
                                <div class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-4 sm:mb-6 xl:mb-9 text-center"
                                    data-anime="onview: -200; translateY: [48, 0]; opacity: [0, 1]; delay: 200;">
                                    <h2 class="h4 sm:h3 xl:h2 m-0 rotate-2 text-uppercase ls-0">The Association</h2>
                                </div>

                                <!-- Error State -->
                                <div id="grinder-error" class="panel p-3 border border-2 border-danger text-danger bg-white text-center d-none mb-4">
                                    <p class="mb-0">Failed to load DAO information. Please make sure you have a Web3 provider (like MetaMask) connected, or try refreshing the page.</p>
                                </div>
                                
                                <div class="section-content panel">
                                    <div class="section-footer text-center"
                                        data-anime="onview: -200; translateY: [24, 0]; opacity: [0, 1]; delay: 200;">
                                    <div class="row child-cols-6 sm:child-cols-3 justify-center gx-0 gy-3">
                                        <div class="col sm:col-3">
                                            <div class="panel p-3 sm:p-4 border border-2 border-black contrast-shadow-sm bg-white rotate-1">
                                                <h2 class="h2 sm:h1 xl:display-6 stroke-text-bold mb-1 xl:mb-2" id="total-unicorns-killed">-</h2>
                                                <span class="fs-6 sm:fs-5 xl:fs-4">Unicorns Killed</span>
                                            </div>
                                        </div>
                                        <div class="col sm:col-3">
                                            <div class="panel p-3 sm:p-4 border border-2 border-black contrast-shadow-sm bg-white -rotate-1">
                                                <h2 class="h2 sm:h1 xl:display-6 stroke-text-bold mb-1 xl:mb-2" id="proposals-count">0</h2>
                                                <span class="fs-6 sm:fs-5 xl:fs-4">Proposals</span>
                                            </div>
                                        </div>
                                        <div class="col sm:col-3">
                                            <div class="panel p-3 sm:p-4 border border-2 border-black contrast-shadow-sm bg-white rotate-2">
                                                <h2 class="h2 sm:h1 xl:display-6 stroke-text-bold mb-1 xl:mb-2" id="dao-age">-</h2>
                                                <span class="fs-6 sm:fs-5 xl:fs-4">Old</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Unicorn Killers Hall of Fame -->
                                <div class="mt-6 sm:mt-8 p-4 sm:p-5 border border-2 border-black contrast-shadow-sm bg-white">
                                    <div class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-3 text-center">
                                        <h3 class="h5 sm:h4 xl:h3 m-0 text-uppercase fw-bold">ü¶Ñ Unicorn Killers Hall of Fame üçñ</h3>
                                    </div>
                                    <div id="hall-of-fame-list">
                                        <!-- Killers will be populated here -->
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Proposals Section -->
                <div class="association-proposals section panel overflow-hidden">
                    <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10" style="background-color: #fff4e6;">
                        <div class="container sm:max-w-lg xl:max-w-4xl">
                            <div class="section-inner panel">
                                <div class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-4 sm:mb-6 xl:mb-9 text-center"
                                    data-anime="onview: -200; translateY: [48, 0]; opacity: [0, 1]; delay: 200;">
                                    <h2 class="h4 sm:h3 xl:h2 m-0 rotate-2 text-uppercase ls-0">Proposals</h2>
                                </div>
                                <div class="section-content panel">
                                    <div id="proposals-list" class="vstack gap-2">
                                        <p class="text-muted text-center fs-7">No proposals found.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


        <!-- Grind Section -->
        <div id="grind" class="grind section panel overflow-hidden">
            <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10" style="background-color: #dbf2ff; position: relative;">
                <img class="position-absolute start-0 w-200px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-01.svg') }}" alt="cloud"
                    style="top: 15%">
                <img class="position-absolute end-0 w-150px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-02.svg') }}" alt="cloud"
                    style="bottom: 10%">
                <div class="container sm:max-w-lg xl:max-w-2xl">
                    <div class="section-inner panel">
                        <div class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-4 sm:mb-6 xl:mb-9 text-center"
                            data-anime="onview: -200; translateY: [48, 0]; opacity: [0, 1]; delay: 200;">
                            <h2 class="h4 sm:h3 xl:h2 m-0 rotate-2 text-uppercase ls-0">Grind Unicorns ü¶Ñ</h2>
                        </div>
                        <div class="section-content panel">
                            <div class="row justify-content-center">
                                <div class="col-lg-8 col-md-10">
                                    <div class="panel p-4 sm:px-8 sm:py-6 lg:p-5 xl:p-7 border border-2 border-black contrast-shadow-lg text-black -rotate-1 bg-white">
                                        <p class="fs-6 xl:fs-5 mb-3 w-100 text-center">Grind your Unicorns ü¶Ñ to get Unicorn Meat üçñ using the original 2016 Unicorn Meat Grinder Association contract.</p>
                                        <div class="fs-7 text-center mb-3" style="font-size: 0.8rem;">
                                            <p class="mb-2 mt-3"><strong>How it works:</strong></p>
                                            <ol class="list-unstyled text-start" style="display: inline-block;">
                                                <li class="mb-1">Checks your Unicorn balance: <a href="https://etherscan.io/token/0x89205a3a3b2a69de6dbf7f01ed13b2108b2c43e7?1#readContract" target="_blank" rel="noopener noreferrer" class="text-primary">View Contract</a></li>
                                                <li class="mb-1">Asks you to approve the Grinder to spend your Unicorns: <a href="https://etherscan.io/token/0x89205a3a3b2a69de6dbf7f01ed13b2108b2c43e7?1#writeContract" target="_blank" rel="noopener noreferrer" class="text-primary">Approve</a></li>
                                                <li class="mb-1">Calls grindUnicorns() to exchange Unicorns for Unicorn Meat: <a href="https://gist.github.com/alexvandesande/3abc9f741471e08a6356#file-meat-grinder-association" target="_blank" rel="noopener noreferrer" class="text-primary">Grinder Association DAO</a></li>
                                                <li class="mb-1">The Meat Grinder dispenses the Unicorn Meat to you: <a href="https://etherscan.io/address/0x66b4bc57a40f4dcbe96d69be74244356879bd4ce#code" target="_blank" rel="noopener noreferrer" class="text-primary">Meat Grinder</a></li>
                                            </ol>
                                        </div>
                                        <div class="text-center mt-4">
                                            <input id="grind-amount" type="number" min="1" step="1"
                                                class="form-control fs-6 xl:fs-4 border border-2 border-black contrast-shadow-sm text-black bg-white text-center mb-3"
                                                placeholder="# of Unicorns" required
                                                style="width: 250px; height: 48px; margin-left: auto; margin-right: auto;">
                                            <div class="vstack gap-2 w-100 mt-2 align-items-center">
                                                <button
                                                    id="grind-button"
                                                    class="btn btn-md btn-primary border border-2 border-black contrast-shadow-sm hover:-rotate-2"
                                                    type="button" style="width: 250px; height: 48px; margin-left: auto; margin-right: auto;">Approve & Grind ü¶Ñ</button>
                                            </div>
                                            <!-- Grind Error Message Area -->
                                            <div id="grind-error"
                                                class="panel mt-3 p-2 border border-2 border-danger text-danger bg-white text-center d-none"
                                                style="width: 250px; margin-left: auto; margin-right: auto;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Governance Section -->
        <div id="governance" class="association-governance section panel overflow-hidden">
            <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10" style="background-color: #e6d9ff; position: relative;">
                <img class="position-absolute start-0 w-200px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-03.svg') }}" alt="cloud"
                    style="top: 15%">
                <img class="position-absolute end-0 w-150px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-04.svg') }}" alt="cloud"
                    style="bottom: 10%">
                <div class="container sm:max-w-lg xl:max-w-4xl">
                    <div class="section-inner panel">
                        <div class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-4 sm:mb-6 xl:mb-9 text-center"
                            data-anime="onview: -200; translateY: [48, 0]; opacity: [0, 1]; delay: 200;">
                            <h2 class="h4 sm:h3 xl:h2 m-0 rotate-2 text-uppercase ls-0">Governance</h2>
                        </div>
                        
                        <div class="section-content panel">
                            <!-- Current Rules - Conversational -->
                            <div class="mb-5">
                                <div class="desc">
                                    <p class="fs-7 sm:fs-6 mb-3">
                                        The minimum quorum required to pass a proposal is <strong id="minimum-quorum">-</strong> vote weight. Vote weight is calculated as your unicorn token balance multiplied by your bribe (the square root of ETH sent plus gas costs). This means you can increase your voting power by sending ETH with your vote.
                                    </p>
                                    <p class="fs-7 sm:fs-6 mb-3">
                                        Proposals have a debating period of <strong id="debating-period">-</strong> minutes before they can be executed.
                                    </p>
                                    <p class="fs-7 sm:fs-6 mb-0">
                                        Votes against a proposal are weighted <strong id="rejection-multiplier">-</strong> times more than votes in support, meaning a vocal minority of 20% can veto any proposal.
                                    </p>
                                </div>
                            </div>

                            <!-- Contract Addresses -->
                            <div class="mb-5">
                                <div class="desc text-center">
                                    <p class="fs-7 sm:fs-6 mb-2 mt-4">
                                        <strong>Unicorn Token:</strong> <a href="#" id="unicorn-token-link" target="_blank" rel="noopener noreferrer">-</a>
                                    </p>
                                    <p class="fs-7 sm:fs-6 mb-2">
                                        <strong>Meat Token:</strong> <a href="#" id="meat-token-link" target="_blank" rel="noopener noreferrer">-</a>
                                    </p>
                                    <p class="fs-7 sm:fs-6 mb-2">
                                        <strong>Meat Provider:</strong> <a href="#" id="meat-provider-link" target="_blank" rel="noopener noreferrer">-</a>
                                    </p>
                                    <p class="fs-7 sm:fs-6 mb-0">
                                        <strong>Owner:</strong> <a href="#" id="owner-link" target="_blank" rel="noopener noreferrer">-</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Propose Section -->
        <div id="propose" class="propose section panel overflow-hidden">
            <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10" style="background-color: #ffe6f9; position: relative;">
                <img class="position-absolute start-0 w-250px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-01.svg') }}" alt="cloud"
                    style="top: 11%">
                <img class="position-absolute end-0 w-200px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-02.svg') }}" alt="cloud"
                    style="bottom: 6%">
                <div class="container sm:max-w-lg xl:max-w-4xl">
                    <div class="section-inner panel">
                        <div class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-4 sm:mb-6 xl:mb-9 text-center"
                            data-anime="onview: -200; translateY: [48, 0]; opacity: [0, 1]; delay: 200;">
                            <h2 class="h4 sm:h3 xl:h2 m-0 rotate-2 text-uppercase ls-0">Create Proposal</h2>
                        </div>
                        <div class="section-content panel">
                            <div class="panel p-4 sm:px-8 sm:py-6 lg:p-5 xl:p-7 border border-2 border-black contrast-shadow-lg text-black -rotate-1 bg-white">
                                <div class="vstack gap-3">
                                    <div>
                                        <label class="form-label fs-6 fw-bold mb-1">Beneficiary Address</label>
                                        <small class="fs-7 text-muted d-block mb-2">The address that will receive ETH if this proposal passes.</small>
                                        <input type="text" id="proposal-beneficiary" class="form-control fs-6 border border-2 border-black contrast-shadow-sm" placeholder="0x..." required>
                                    </div>
                                    <div>
                                        <label class="form-label fs-6 fw-bold mb-1">Description</label>
                                        <input type="text" id="proposal-description" class="form-control fs-6 border border-2 border-black contrast-shadow-sm" placeholder="Short description..." required>
                                    </div>
                                    <div>
                                        <label class="form-label fs-6 fw-bold mb-1">Transaction Bytecode (Hex)</label>
                                        <input type="text" id="proposal-bytecode" class="form-control fs-6 border border-2 border-black contrast-shadow-sm" placeholder="0x..." required>
                                        <small class="fs-7 text-muted d-block mt-1">The bytecode that will be executed if the proposal passes.</small>
                                    </div>
                                    <div>
                                        <label class="form-label fs-6 fw-bold mb-1">Vote Weight Boost (ETH)</label>
                                        <small class="fs-7 text-muted d-block mb-2">Optional: Send ETH to increase your vote weight.</small>
                                        <input type="number" id="proposal-bribe" class="form-control fs-6 border border-2 border-black contrast-shadow-sm" placeholder="0.0" step="0.001" min="0">
                                    </div>
                                    <button id="create-proposal-btn" class="btn btn-md btn-primary border border-2 border-black contrast-shadow-sm mt-2">
                                        Create Proposal
                                    </button>
                                    <div id="proposal-status" class="d-none"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div id="faq" class="faq section panel overflow-hidden">
            <div class="section-outer panel py-6 sm:py-8 lg:py-9 xl:py-10" style="background-color: #e6ffe6; position: relative;">
                <img class="position-absolute start-0 w-250px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-03.svg') }}" alt="cloud"
                    style="top: 11%">
                <img class="position-absolute end-0 w-200px xl:w-auto"
                    src="{{ url_for('static', filename='assets/images/common/cloud-04.svg') }}" alt="cloud"
                    style="bottom: 6%">
                <div class="container sm:max-w-md xl:max-w-lg">
                    <div class="section-inner panel"
                        data-anime="onview: -300; targets: >*; translateY: [24, 0]; opacity: [0, 1]; delay: anime.stagger(100, {start: 200});">
                        <div
                            class="section-header panel sm:max-w-500px xl:max-w-800px mx-auto mb-4 sm:mb-6 xl:mb-9 text-center">
                            <h2 class="h4 sm:h3 xl:h2 m-0 rotate-2 text-uppercase ls-0">Frequently Asked Questions ü§î
                            </h2>
                        </div>
                        <div class="section-content panel">
                            <ul class="gap-3 sm:gap-4" data-uc-accordion="targets: > li; multiple: true">
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white -rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">What is the Unicorn Meat Grinder?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            The Unicorn Meat Grinder is a governancecontract that also takes your Unicorns ü¶Ñ, sends them to unicorn heaven (the contract), and sends you back Unicorn Meat üçñ tokens. Grinding a Unicorn can yield about 5000 pieces of meat, but depending on your luck you might get more. Each token is divisible to 3 decimal places, so each single unicorn will be exchanged for more than a million smaller units.
                                        </p>
                                    </div>
                                </li>
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">How much Unicorn Meat do I get per Unicorn?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            Each Unicorn grind can yield about 5000 pieces of meat, but there's a small chance you'll get much more than that. The amount is calculated using a semi-random function, so your results may vary. Since each meat token is divisible to 3 decimal places, each unicorn exchanges for more than a million smaller units.
                                        </p>
                                    </div>
                                </li>
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white -rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">How do I grind my Unicorns?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            <strong>Important:</strong> Do not send unicorn tokens directly to the grinder! You need to approve first, then grind. The dapp on this page will handle the approval for you.
                                        </p>
                                        <ol class="fs-5 xl:fs-4 ps-4 list-decimal space-y-1">
                                            <li>Go to the <a href="#grind">Grind section</a> on this page or use the <a href="https://etherscan.io/address/0xc7e9dDd5358e08417b1C88ed6f1a73149BEeaa32#writeContract" target="_blank" rel="noopener noreferrer" class="text-primary">Grinder Association contract</a> and call the "grindUnicorns" function with the number of unicorns you want to grind.</li>
                                            <li>Wait a few seconds and you'll receive your Unicorn Meat tokens!</li>
                                        </ol>
                                    </div>
                                </li>
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">How does quadratic voting work?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            Your vote weight is calculated as your Unicorn token balance multiplied by the square root of the ETH you send (plus gas costs). This means a vote that sends 100 finney will be 10x more weighted than a vote that sends only 1 finney. The Association "might take bribes" when counting votes ‚Äî this is quadratic voting, which helps prevent simple 51% attacks by making it expensive to buy large amounts of voting power.
                                        </p>
                                    </div>
                                </li>
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white -rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">How do I vote on proposals?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            To vote on a proposal, you need to own Unicorn tokens. Your vote weight is based on your token balance and any ETH you send with your vote (quadratic voting). Votes against a proposal are weighted 4x more than votes in support, meaning a vocal minority of 20% can veto any proposal. You can vote using the <a href="https://etherscan.io/address/0xc7e9dDd5358e08417b1C88ed6f1a73149BEeaa32#writeContract" target="_blank" rel="noopener noreferrer" class="text-primary">Grinder Association contract</a> on Etherscan or through this interface.
                                        </p>
                                    </div>
                                </li>
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">What technical features did this pioneer?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            The Unicorn Meat Grinder demonstrated several important Ethereum functionalities: <strong>token upgrades</strong> (locking an old token and sending a new token back), <strong>decentralized token swaps</strong> (a contract receiving tokens and executing functions), and <strong>quadratic voting</strong>.
                                        </p>
                                    </div>
                                </li>
                                <li
                                    class="panel p-3 sm:p-4 xl:p-6 border border-2 border-black contrast-shadow-sm text-black bg-white -rotate-1">
                                    <a class="uc-accordion-title h5 xl:h4 stroke-text m-0" href="#">Is there a Unicorn Killers Hall of Fame?</a>
                                    <div class="uc-accordion-content">
                                        <p class="fs-5 xl:fs-4">
                                            Almost! You can see the <a href="#grinder-info">Unicorn Killers Hall of Fame</a> on this page, which lists all the addresses that have ground Unicorns, along with their kill counts and first kill dates. The original announcement mentioned a partially constructed Hall of Fame, and the on-chain version is in progress. It will contain more features than originally envisioned.
                                        </p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- include ethers.js for blockchain interactions -->
    <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js" type="application/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
    
    <!-- include WalletKit library -->
    <script src="{{ url_for('static', filename='assets/js/walletkit.umd.js') }}"></script>
    
    <!-- include WalletKit integration -->
    <script defer src="{{ url_for('static', filename='assets/js/walletkit-integration.js') }}"></script>
    
    <!-- include Grinder Association DAO loader -->
    <script defer src="{{ url_for('static', filename='assets/js/grinder-association.js') }}"></script>

    <script>
        // Handle proposal collapse/expand
        document.addEventListener('click', function(e) {
            if (e.target.closest('.proposal-header')) {
                const header = e.target.closest('.proposal-header');
                const card = header.closest('.proposal-card');
                const content = card.querySelector('.proposal-content');
                const icon = header.querySelector('.proposal-toggle-icon');
                
                content.classList.toggle('expanded');
                if (icon) icon.classList.toggle('expanded');
            }
        });

        // Grind Unicorn functionality
        document.addEventListener('DOMContentLoaded', function() {
            const grindButton = document.getElementById('grind-button');
            const grindAmountInput = document.getElementById('grind-amount');
            const grindError = document.getElementById('grind-error');

            function showGrindError(message) {
                if (!grindError) return;
                grindError.textContent = message;
                grindError.classList.remove('d-none');
                setTimeout(() => {
                    grindError.classList.add('d-none');
                }, 5000);
            }

            function showGrindSuccess(message) {
                if (!grindError) return;
                grindError.textContent = message;
                grindError.classList.remove('d-none', 'text-danger');
                grindError.classList.add('text-success');
                setTimeout(() => {
                    grindError.classList.add('d-none');
                    grindError.classList.remove('text-success');
                    grindError.classList.add('text-danger');
                }, 5000);
            }

            if (grindButton && grindAmountInput) {
                grindButton.addEventListener('click', async () => {
                    const amount = grindAmountInput.value;
                    if (!amount || amount <= 0) {
                        showGrindError('Please enter a valid amount of Unicorns to grind');
                        return;
                    }

                    try {
                        // Check if wallet is connected
                        if (!window.ethereum || !window.ethereum.selectedAddress) {
                            showGrindError('Please connect your wallet first');
                            return;
                        }

                        // Get the contract instances
                        const web3 = new Web3(window.ethereum);
                        const accounts = await web3.eth.getAccounts();
                        const userAddress = accounts[0];

                        // Unicorn token contract (0x89205A3A3b2A69De6Dbf7f01ED13B2108B2c43e7)
                        const unicornTokenABI = [
                            {
                                "constant": true,
                                "inputs": [{"name": "_owner", "type": "address"}],
                                "name": "balanceOf",
                                "outputs": [{"name": "balance", "type": "uint256"}],
                                "type": "function"
                            },
                            {
                                "constant": false,
                                "inputs": [
                                    {"name": "_spender", "type": "address"},
                                    {"name": "_value", "type": "uint256"}
                                ],
                                "name": "approve",
                                "outputs": [{"name": "success", "type": "bool"}],
                                "type": "function"
                            }
                        ];
                        const unicornTokenAddress = '0x89205A3A3b2A69De6Dbf7f01ED13B2108B2c43e7';
                        const unicornTokenContract = new web3.eth.Contract(unicornTokenABI, unicornTokenAddress);

                        // Meat Grinders Association contract (0xc7e9dDd5358e08417b1C88ed6f1a73149BEeaa32)
                        const grinderABI = [
                            {
                                "constant": false,
                                "inputs": [{"name": "amountOfUnicornsToGrind", "type": "uint256"}],
                                "name": "grindUnicorns",
                                "outputs": [],
                                "type": "function"
                            }
                        ];
                        const grinderAddress = '0xc7e9dDd5358e08417b1C88ed6f1a73149BEeaa32';
                        const grinderContract = new web3.eth.Contract(grinderABI, grinderAddress);

                        // Convert amount to wei (Unicorn is 0 decimal token, so no conversion needed)
                        const amountWei = web3.utils.toBN(amount.toString());

                        // Check if user has enough Unicorn tokens
                        console.log('Checking Unicorn token balance...');
                        const balance = await unicornTokenContract.methods.balanceOf(userAddress).call();
                        const balanceBN = web3.utils.toBN(balance);
                        
                        console.log(`User has ${balance.toString()} Unicorn tokens`);
                        
                        if (balanceBN.lt(amountWei)) {
                            showGrindError(`Insufficient Unicorn tokens. You have ${balance.toString()} but need ${amount}.`);
                            return;
                        }

                        // First, approve the grinder contract to spend Unicorn tokens
                        console.log('Approving Unicorn tokens...');
                        const approveTx = await unicornTokenContract.methods.approve(grinderAddress, amountWei).send({
                            from: userAddress,
                            gas: 100000
                        });
                        console.log('Approval transaction:', approveTx);

                        // Then, call grindUnicorns
                        console.log('Grinding Unicorns...');
                        const grindTx = await grinderContract.methods.grindUnicorns(amountWei).send({
                            from: userAddress,
                            gas: 200000
                        });
                        console.log('Grind transaction:', grindTx);

                        showGrindSuccess(`Successfully ground ${amount} Unicorns! Check your wallet for Unicorn Meat tokens.`);

                    } catch (error) {
                        console.error('Grind error:', error);
                        showGrindError(`Failed to grind Unicorns: ${error.message}`);
                    }
                });
            }
        });
    </script>
</body>

</html>

